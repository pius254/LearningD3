for(var w=600,h=600,circleWidth=5,palette={lightgray:"#819090",gray:"#708284",mediumgray:"#536870",darkgray:"#475B62",darkblue:"#0A2933",darkerblue:"#042029",paleryellow:"#FCF4DC",paleyellow:"#EAE3CB",yellow:"#A57706",orange:"#BD3613",red:"#D11C24",pink:"#C61C6F",purple:"#595AB7",blue:"#2176C7",cyan:"#259286",green:"#738A05"},nodes=[{name:"Counties"},{name:"Kirinyaga"},{name:"Nairobi",target:[0]},{name:"Nakuru",target:[0]},{name:"Kisii",target:[1]},{name:"Embu",target:[0,1,2,3]}],links=[],i=0;i<nodes.length;i++)if(void 0!==nodes[i].target)for(var x=0;x<nodes[i].target.length;x++)links.push({source:nodes[i],target:nodes[nodes[i].target[x]]});var myChart=d3.select("#chart").append("svg").attr("width",w).attr("height",h),force=d3.layout.force().nodes(nodes).links([]).gravity(.1).charge(-1e3).size([w,h]),link=myChart.selectAll("line").data(links).enter().append("line").attr("stroke",palette.gray),node=myChart.selectAll("circle").data(nodes).enter().append("g").call(force.drag);node.append("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",circleWidth).attr("fill",function(t,e){return e>0?palette.pink:palette.blue}),node.append("text").text(function(t){return t.name}).attr("font-family","Roboto Slab").attr("fill",function(t,e){return e>0?palette.mediumgray:palette.yellow}).attr("x",function(t,e){return e>0?circleWidth+4:circleWidth-15}).attr("y",function(t,e){return e>0?circleWidth:8}).attr("text-anchor",function(t,e){return e>0?"beginning":"end"}).attr("font-size",function(t,e){return e>0?"1em":"1.8em"}),force.on("tick",function(){node.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"}),link.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}),force.start();